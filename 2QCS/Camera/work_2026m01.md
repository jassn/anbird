
# Work Log

# 2026-0114
Michael 測試 CAN bus. can0 and can1 是否相反?


# GPIO_62 conflict
Problem from adb logcat:
```
 E kalama-pinctrl f000000.pinctrl: pin GPIO_62 already requested by 884000.spi; cannot claim for ac15000.qcom,cci0:qcom,cam-sensor10
 E kalama-pinctrl f000000.pinctrl: pin-62 (ac15000.qcom,cci0:qcom,cam-sensor10) status -22
 E kalama-pinctrl f000000.pinctrl: could not request pin 62 (GPIO_62) from group gpio62  on device f000000.pinctrl
```

原因: GPIO_62 (or 884000.spi) 已被 CAN 所使用. (see DTS: qupv3_se9_spi)

解決: 修改 Vendor/vendor/qcom/proprietary/camera-devicetree/kalama-camera-sensor-rb5gen2-dvt.dtsi. 上述錯誤訊息就不會再出現！    
status = "disabled"
```
qcom,cam-sensor10 {
        cell-index = <10>;
        ......
        gpios = <&tlmm 107 0>,
            <&tlmm 72 0>,
            <&tlmm 62 0> ;
        status = "disabled";
}
```


# 2026-0113
如何改變下列這一個log?
```
OF: /soc/qcom,qupv3_i2c_geni_se@9c0000/i2c@988000/ch101_1@45: could not get #gpio-cells for /soc/syscon@1fc0000
```



---------------------------------------------------------

# 2026-0112
- [ ] 80-70023-8 CH.4 UART
- [ ] 為什麼 jack 的修改會 fail to build?
- [ ] pinctrl 看起來沒錯.
- [ ] (可能)要先 build 成功, 否則如果 build error, 就算改成 correct files, 仍然會fail. (fail 會被 cache?)



---------------------------------------------------------
# 2026-0108

## CDT
- [ ] https://docs.qualcomm.com/doc/80-70023-9/topic/landing-page.html?product=895724676033554725&facet=Boot&version=1.7


如何修改 QUPAC_Access.c?

先查 CDT, from debug UART.
```
CDT Version:3,Platform ID:31,Major ID:1,Minor ID:1,Subtype:2 
```

到 QUPAC_Access.xml 查找對照, 得到 **qupv3_perms_rb5_gen2_dvt**
```
<device id="/dev/buses/qupac/31/02/01/01"> // rb5_gen2_dvt
    <props name="qupv3_perms" type=DALPROP_ATTR_TYPE_STRUCT_PTR>
       qupv3_perms_rb5_gen2_dvt
    </props>
```




-------------------------------------------------------
# 2026-0107
## ttyMSM0
Debug UART Instance
```
kalama-qupv3.dtsi ::
qupv3_1: qcom,... @ac0000 {
    qupv3_se7_2uart: qcom,qup_uart@a9c0000
}
qupv3_2: qcom,... @8c0000 {
}
```



## ttyHS1
~/RB5/uart, 看到 a90000.uart: ttyHS1

到 arch/arm64/boot/dts/vendor/qcom, 查詢 a90000, 可看到:
```
kalama-qupv3.dtsi
qupv3_se4_4uart: uart@a90000
```

查詢 qupv3_se4_4uart, 可看到:
```
kalamap-rb5-gen2.dtsi
&qupv3_se4_4uart {
    status = "ok"
}
```

問: 需要去看 TZ 嗎?
```
QUPAC_Access.c
{ QUPV3_1_SE4, QUPV3_PROTOCOL_UART_4W, ...}
```
有開啟, 但不確定是 _rb5_gen2_evt or _rb5_gen2_dvt?




## gpio52
adb logcat 如下:
```
E  invalid group "gpio52" for function "qup1_se5_l2"
```

查一下 pinctrl: 




== END ==
